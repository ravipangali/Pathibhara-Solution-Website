{% extends "frontend/layouts/base.html" %}

{% block extra_css %}
<style>
    /* Projects Page Specific Styles */
    .page-header {
        background: linear-gradient(to right, rgba(255,255,255,0.9), rgba(230,249,243,0.8)), url('/media/hero/projects-bg.jpg');
        background-size: cover;
        background-position: center;
        padding: 100px 0 80px;
        text-align: center;
        position: relative;
    }

    .breadcrumb-item a {
        color: var(--primary-color);
        text-decoration: none;
        transition: var(--transition-base);
    }

    .breadcrumb-item a:hover {
        color: var(--primary-dark);
    }

    .breadcrumb-item.active {
        color: var(--text-light);
    }
    
    .project-category-filters {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 15px;
        margin-bottom: 40px;
    }

    .project-filter {
        padding: 8px 20px;
        background-color: white;
        border: 1px solid rgba(46,125,50,0.15);
        border-radius: 30px;
        cursor: pointer;
        transition: var(--transition-base);
        font-weight: 500;
    }

    .project-filter:hover {
        background-color: var(--secondary-color);
        border-color: var(--primary-light);
    }

    .project-filter.active {
        background-color: var(--primary-color);
        color: white;
        border-color: var(--primary-color);
    }
    
    .project-card {
        position: relative;
        border-radius: var(--border-radius);
        overflow: hidden;
        box-shadow: var(--box-shadow);
        margin-bottom: 30px;
        height: 320px;
    }
    
    .project-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
    }
    
    .project-card:hover .project-img {
        transform: scale(1.1);
    }
    
    .project-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.2) 60%, rgba(0,0,0,0) 100%);
        opacity: 0.7;
        transition: var(--transition-base);
    }
    
    .project-card:hover .project-overlay {
        opacity: 0.9;
        background: linear-gradient(to top, rgba(0,50,0,0.9) 0%, rgba(46,125,50,0.8) 100%);
    }
    
    .project-content {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        padding: 25px;
        color: white;
        transform: translateY(0);
        transition: var(--transition-base);
    }
    
    .project-card:hover .project-content {
        transform: translateY(-10px);
    }
    
    .project-category {
        display: inline-block;
        background-color: rgba(255,255,255,0.2);
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 0.8rem;
        margin-bottom: 10px;
        backdrop-filter: blur(5px);
    }
    
    .project-title {
        font-size: 1.4rem;
        margin-bottom: 10px;
        color: white;
    }
    
    .project-description {
        font-size: 0.95rem;
        opacity: 0.9;
        margin-bottom: 15px;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        transition: var(--transition-base);
    }
    
    .project-card:hover .project-description {
        -webkit-line-clamp: 3;
    }
    
    .project-link {
        color: white;
        text-decoration: none;
        font-weight: 500;
        opacity: 0;
        transform: translateY(20px);
        transition: var(--transition-base);
        display: inline-flex;
        align-items: center;
    }
    
    .project-link i {
        margin-left: 8px;
        transition: transform 0.3s ease;
    }
    
    .project-link:hover i {
        transform: translateX(5px);
    }
    
    .project-card:hover .project-link {
        opacity: 1;
        transform: translateY(0);
    }
    
    .process-step {
        display: flex;
        background-color: white;
        border-radius: var(--border-radius);
        box-shadow: var(--box-shadow);
        overflow: hidden;
        height: 100%;
        transition: var(--transition-base);
    }

    .process-step:hover {
        transform: translateY(-8px);
        box-shadow: 0 15px 30px rgba(46,125,50,0.08);
    }

    .process-number {
        background-color: var(--primary-color);
        color: white;
        font-size: 1.8rem;
        font-weight: 700;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 15px 25px;
    }

    .process-content {
        padding: 25px;
    }
    
    .stats-card {
        background-color: white;
        border-radius: var(--border-radius);
        box-shadow: var(--box-shadow);
        padding: 25px 20px;
        text-align: center;
        height: 100%;
        transition: var(--transition-base);
    }
    
    .stats-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 20px 40px rgba(46,125,50,0.1);
    }
    
    .stats-icon {
        width: 60px;
        height: 60px;
        background-color: var(--secondary-color);
        color: var(--primary-color);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        margin: 0 auto 15px;
        transition: var(--transition-base);
    }
    
    .stats-card:hover .stats-icon {
        background-color: var(--primary-color);
        color: white;
        transform: rotateY(180deg);
    }
    
    .stats-number {
        font-size: 2.5rem;
        font-weight: 700;
        color: var(--primary-dark);
        margin-bottom: 10px;
    }
    
    .stats-text {
        color: var(--text-secondary);
        font-weight: 500;
    }
    
    @media (max-width: 767.98px) {
        .project-category-filters {
            gap: 10px;
        }
        
        .project-filter {
            padding: 6px 15px;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }
        
        .project-card {
            height: 280px;
        }
        
        .process-step {
            flex-direction: column;
        }
        
        .process-number {
            padding: 10px;
            width: 100%;
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- Page Header -->
<section class="page-header">
    <div class="container">
        <h1 class="display-4 fw-bold mb-4">Our Projects</h1>
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb justify-content-center">
                <li class="breadcrumb-item"><a href="/">Home</a></li>
                <li class="breadcrumb-item active">Projects</li>
            </ol>
        </nav>
    </div>
</section>

<!-- Projects Section -->
<section class="section-padding bg-pattern-1">
    <div class="container">
        <!-- Project Category Filters -->
        <div class="project-category-filters animate-on-scroll">
            <div class="project-filter active" data-filter="all">All Projects</div>
            {% if categories %}
                {% for category in categories %}
                <div class="project-filter" data-filter="{{ category.slug }}">{{ category.name }}</div>
                {% endfor %}
            {% else %}
                <div class="project-filter" data-filter="web-development">Web Development</div>
                <div class="project-filter" data-filter="mobile-apps">Mobile Apps</div>
                <div class="project-filter" data-filter="e-commerce">E-Commerce</div>
                <div class="project-filter" data-filter="enterprise">Enterprise Solutions</div>
            {% endif %}
        </div>

        <!-- Projects Grid -->
        <div class="row g-4">
            {% if projects %}
                {% for project in projects %}
                <div class="col-lg-4 col-md-6 animate-on-scroll project-item {{ project.category.slug }}">
                    <div class="project-card">
                        {% if project.image %}
                            <img src="{{ project.image.url }}" alt="{{ project.title }}" class="project-img">
                        {% else %}
                            <img src="https://via.placeholder.com/600x400" alt="{{ project.title }}" class="project-img">
                        {% endif %}
                        <div class="project-overlay"></div>
                        <div class="project-content">
                            <span class="project-category">
                                {% if project.category %}
                                    {{ project.category.name }}
                                {% else %}
                                    Web Development
                                {% endif %}
                            </span>
                            <h3 class="project-title">{{ project.title }}</h3>
                            <p class="project-description">{{ project.description|striptags|truncatechars:120 }}</p>
                            <a href="/projects/{{project.slug}}" class="project-link">View Details <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <!-- Default Project Cards -->
                <div class="col-lg-4 col-md-6 animate-on-scroll project-item web-development">
                    <div class="project-card">
                        <img src="https://via.placeholder.com/600x400" alt="E-commerce Website" class="project-img">
                        <div class="project-overlay"></div>
                        <div class="project-content">
                            <span class="project-category">Web Development</span>
                            <h3 class="project-title">E-commerce Website</h3>
                            <p class="project-description">A comprehensive e-commerce platform with product management, payment processing, and customer accounts.</p>
                            <a href="#" class="project-link">View Details <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-4 col-md-6 animate-on-scroll project-item mobile-apps">
                    <div class="project-card">
                        <img src="https://via.placeholder.com/600x400" alt="Food Delivery App" class="project-img">
                        <div class="project-overlay"></div>
                        <div class="project-content">
                            <span class="project-category">Mobile Apps</span>
                            <h3 class="project-title">Food Delivery App</h3>
                            <p class="project-description">A mobile application for food ordering and delivery with real-time tracking and payment integration.</p>
                            <a href="#" class="project-link">View Details <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-4 col-md-6 animate-on-scroll project-item enterprise">
                    <div class="project-card">
                        <img src="https://via.placeholder.com/600x400" alt="Hospital Management System" class="project-img">
                        <div class="project-overlay"></div>
                        <div class="project-content">
                            <span class="project-category">Enterprise Solutions</span>
                            <h3 class="project-title">Hospital Management System</h3>
                            <p class="project-description">A comprehensive solution for managing hospital operations, patient records, and appointment scheduling.</p>
                            <a href="#" class="project-link">View Details <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-4 col-md-6 animate-on-scroll project-item web-development">
                    <div class="project-card">
                        <img src="https://via.placeholder.com/600x400" alt="Real Estate Portal" class="project-img">
                        <div class="project-overlay"></div>
                        <div class="project-content">
                            <span class="project-category">Web Development</span>
                            <h3 class="project-title">Real Estate Portal</h3>
                            <p class="project-description">A comprehensive real estate website with property listings, agent profiles, and advanced search functionality.</p>
                            <a href="#" class="project-link">View Details <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-4 col-md-6 animate-on-scroll project-item e-commerce">
                    <div class="project-card">
                        <img src="https://via.placeholder.com/600x400" alt="Fashion Store" class="project-img">
                        <div class="project-overlay"></div>
                        <div class="project-content">
                            <span class="project-category">E-Commerce</span>
                            <h3 class="project-title">Fashion Store</h3>
                            <p class="project-description">An online fashion store with product categories, wishlist functionality, and secure payment processing.</p>
                            <a href="#" class="project-link">View Details <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-4 col-md-6 animate-on-scroll project-item mobile-apps">
                    <div class="project-card">
                        <img src="https://via.placeholder.com/600x400" alt="Fitness Tracker App" class="project-img">
                        <div class="project-overlay"></div>
                        <div class="project-content">
                            <span class="project-category">Mobile Apps</span>
                            <h3 class="project-title">Fitness Tracker App</h3>
                            <p class="project-description">A mobile application for tracking workouts, nutrition, and health metrics with progress visualization.</p>
                            <a href="#" class="project-link">View Details <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-4 col-md-6 animate-on-scroll project-item enterprise">
                    <div class="project-card">
                        <img src="https://via.placeholder.com/600x400" alt="School Management System" class="project-img">
                        <div class="project-overlay"></div>
                        <div class="project-content">
                            <span class="project-category">Enterprise Solutions</span>
                            <h3 class="project-title">School Management System</h3>
                            <p class="project-description">A comprehensive solution for managing school operations, student records, and academic performance.</p>
                            <a href="#" class="project-link">View Details <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-4 col-md-6 animate-on-scroll project-item e-commerce">
                    <div class="project-card">
                        <img src="https://via.placeholder.com/600x400" alt="Electronic Store" class="project-img">
                        <div class="project-overlay"></div>
                        <div class="project-content">
                            <span class="project-category">E-Commerce</span>
                            <h3 class="project-title">Electronic Store</h3>
                            <p class="project-description">An online electronics store with product comparison, customer reviews, and secure checkout.</p>
                            <a href="#" class="project-link">View Details <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-4 col-md-6 animate-on-scroll project-item web-development">
                    <div class="project-card">
                        <img src="https://via.placeholder.com/600x400" alt="Travel Agency Website" class="project-img">
                        <div class="project-overlay"></div>
                        <div class="project-content">
                            <span class="project-category">Web Development</span>
                            <h3 class="project-title">Travel Agency Website</h3>
                            <p class="project-description">A responsive website for a travel agency with tour packages, booking system, and customer reviews.</p>
                            <a href="#" class="project-link">View Details <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
</section>

<!-- Our Approach Section -->
<section class="section-padding bg-subtle">
    <div class="container">
        <div class="text-center section-title animate-on-scroll">
            <h2>Our Project Approach</h2>
            <p>How we deliver successful projects</p>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-3 col-md-6 animate-on-scroll">
                <div class="process-step">
                    <div class="process-number">01</div>
                    <div class="process-content">
                        <h5>Discovery</h5>
                        <p>We understand your requirements, goals, and vision through detailed consultations.</p>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6 animate-on-scroll">
                <div class="process-step">
                    <div class="process-number">02</div>
                    <div class="process-content">
                        <h5>Planning</h5>
                        <p>We create a comprehensive project plan with timelines, milestones, and deliverables.</p>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6 animate-on-scroll">
                <div class="process-step">
                    <div class="process-number">03</div>
                    <div class="process-content">
                        <h5>Development</h5>
                        <p>Our team executes the plan with regular updates and progress tracking.</p>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6 animate-on-scroll">
                <div class="process-step">
                    <div class="process-number">04</div>
                    <div class="process-content">
                        <h5>Delivery</h5>
                        <p>We deploy the final solution and provide ongoing support and maintenance.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Stats Section -->
<section class="section-padding bg-white">
    <div class="container">
        <div class="row g-4">
            {% if stats %}
                {% for stat in stats %}
                <div class="col-lg-3 col-md-6 animate-on-scroll">
                    <div class="stats-card">
                        <div class="stats-icon">
                            <i class="fas {{ stat.icon }}"></i>
                        </div>
                        <div class="stats-number" data-count="{{ stat.value }}">0</div>
                        <div class="stats-text">{{ stat.title }}</div>
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <div class="col-lg-3 col-md-6 animate-on-scroll">
                    <div class="stats-card">
                        <div class="stats-icon">
                            <i class="fas fa-briefcase"></i>
                        </div>
                        <div class="stats-number" data-count="200">0</div>
                        <div class="stats-text">Projects Completed</div>
                    </div>
                </div>
                
                <div class="col-lg-3 col-md-6 animate-on-scroll">
                    <div class="stats-card">
                        <div class="stats-icon">
                            <i class="fas fa-smile-beam"></i>
                        </div>
                        <div class="stats-number" data-count="150">0</div>
                        <div class="stats-text">Happy Clients</div>
                    </div>
                </div>
                
                <div class="col-lg-3 col-md-6 animate-on-scroll">
                    <div class="stats-card">
                        <div class="stats-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stats-number" data-count="25">0</div>
                        <div class="stats-text">Team Members</div>
                    </div>
                </div>
                
                <div class="col-lg-3 col-md-6 animate-on-scroll">
                    <div class="stats-card">
                        <div class="stats-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stats-number" data-count="8">0</div>
                        <div class="stats-text">Years of Experience</div>
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
</section>

<!-- Testimonials Section -->
<section class="section-padding bg-subtle">
    <div class="container">
        <div class="text-center section-title animate-on-scroll">
            <h2>Client Testimonials</h2>
            <p>What our clients say about our work</p>
        </div>
        
        <div class="row g-4">
            {% if testimonials %}
                {% for testimonial in testimonials|slice:":3" %}
                <div class="col-lg-4 animate-on-scroll">
                    <div class="testimonial-card">
                        <p class="mb-4">"{{ testimonial.message|striptags|truncatechars:150 }}"</p>
                        <div class="d-flex align-items-center">
                            {% if testimonial.client.image %}
                            <img src="{{ testimonial.client.image.url }}" alt="{{ testimonial.client.name }}" class="client-image">
                            {% else %}
                            <img src="https://via.placeholder.com/70x70" alt="Client" class="client-image">
                            {% endif %}
                            <div>
                                <h5 class="mb-0">{{ testimonial.client.name }}</h5>
                                <p class="text-primary mb-0 small">{{ testimonial.client.designation }}</p>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <div class="col-lg-4 animate-on-scroll">
                    <div class="testimonial-card">
                        <p class="mb-4">"Pathibhara Solution delivered our e-commerce website ahead of schedule and exceeded our expectations. Their attention to detail and understanding of our business needs resulted in a platform that has significantly increased our online sales."</p>
                        <div class="d-flex align-items-center">
                            <img src="https://via.placeholder.com/70x70" alt="Client" class="client-image">
                            <div>
                                <h5 class="mb-0">David Wilson</h5>
                                <p class="text-primary mb-0 small">CEO, Fashion Retail</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 animate-on-scroll">
                    <div class="testimonial-card">
                        <p class="mb-4">"The hospital management system developed by Pathibhara Solution has transformed how we operate. The software is intuitive, comprehensive, and has significantly improved our efficiency and patient care."</p>
                        <div class="d-flex align-items-center">
                            <img src="https://via.placeholder.com/70x70" alt="Client" class="client-image">
                            <div>
                                <h5 class="mb-0">Dr. Sarah Johnson</h5>
                                <p class="text-primary mb-0 small">Medical Director, City Hospital</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 animate-on-scroll">
                    <div class="testimonial-card">
                        <p class="mb-4">"Our mobile app developed by Pathibhara Solution has received overwhelmingly positive feedback from users. Their technical expertise, innovative approach, and commitment to quality made them the perfect partner for our project."</p>
                        <div class="d-flex align-items-center">
                            <img src="https://via.placeholder.com/70x70" alt="Client" class="client-image">
                            <div>
                                <h5 class="mb-0">Michael Chen</h5>
                                <p class="text-primary mb-0 small">Founder, Tech Startup</p>
                            </div>
                        </div>
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="section-padding" style="background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary-color) 100%);">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8 animate-on-scroll">
                <h2 class="text-white mb-3">Ready to start your project?</h2>
                <p class="text-white opacity-90 mb-4">Contact us today to discuss your requirements and let's create something amazing together.</p>
            </div>
            <div class="col-lg-4 text-lg-end animate-on-scroll">
                <a href="/contact" class="btn btn-light btn-lg px-4">Get in Touch</a>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Project filtering functionality
        const filterButtons = document.querySelectorAll('.project-filter');
        const projectItems = document.querySelectorAll('.project-item');
        
        filterButtons.forEach(button => {
            button.addEventListener('click', function() {
                // Remove active class from all buttons
                filterButtons.forEach(btn => btn.classList.remove('active'));
                
                // Add active class to clicked button
                this.classList.add('active');
                
                // Get filter value
                const filterValue = this.getAttribute('data-filter');
                
                // Filter projects
                projectItems.forEach(item => {
                    if (filterValue === 'all') {
                        item.style.display = 'block';
                    } else {
                        if (item.classList.contains(filterValue)) {
                            item.style.display = 'block';
                        } else {
                            item.style.display = 'none';
                        }
                    }
                });
            });
        });
        
        // Counter animation for stats
        const statsNumbers = document.querySelectorAll('.stats-number');
        const statsObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const target = entry.target;
                    const count = parseInt(target.getAttribute('data-count'));
                    let current = 0;
                    const updateCounter = () => {
                        const increment = count / 50;
                        if (current < count) {
                            current += increment;
                            target.textContent = Math.ceil(current);
                            setTimeout(updateCounter, 30);
                        } else {
                            target.textContent = count;
                        }
                    };
                    updateCounter();
                    observer.unobserve(target);
                }
            });
        }, { threshold: 0.5 });
        
        statsNumbers.forEach(number => {
            statsObserver.observe(number);
        });
    });
</script>
{% endblock %} 